;===============================================================================
;----------------------Supers-----------------------------------------------
;===============================================================================
[Statedef 487]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 487
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,9
volume = 999

[State 0, VelMul]
type = VelMul
trigger1 = TIME > 3
x = .9
y = .9
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,21
volume = 999

[State 0, Pulsos]
type = Helper
trigger1 = (time = [10,25]) && timemod = 10,0
helpertype = normal
name = "Pulsos"
ID = 3075
stateno = 3075
pos = 0,0
postype = p1

[State 200, End]
type = ChangeState
trigger1 = time >= 20
value = 488
[State 200, End]
type = ChangeState
TRIGGERALL= vel Y >0
trigger1 = pos Y > -15;time >= 20
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 488]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 488
poweradd = -300
velset = 0,0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1,21
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S5,30
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 80023
ID = 80023
pos = 20,-30
postype = p1  ;p2,front,back,left,right
bindtime = 1
vel = -1,0
removetime = -2
pausemovetime = 0
scale = .3,.4
ownpal = 1
sprpriority = 12

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time = [0,10]
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 20

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,SA
guardflag = MA
animtype = Heavy
damage = 10
pausetime = 0,50
sparkno = -1
sparkxy = -20,-60
guard.sparkno = S7010
hitsound = S1,22
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = 0
air.velocity = 0
Fall = 0
envshake.time = 20

[State 0, Helper]
type = Helper
Triggerall = p2movetype = H && p2stateno != [120,155]
trigger1 = numhelper(8103) = 0 && movehit = 1
helpertype = normal
name = "HitSpark"
ID = 8103
stateno = 8103
pos = 60,-60;0, -25
postype = p1
facing = 1
ownpal = 1
supermove=9999
pausemove=9999
ignorehitpause=1

[State 0, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 30
length = 10
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,220
palpostbright = 0,0,0
paladd = 2,2,6
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 200, REMATE]
type = ChangeState
trigger1 = movehit = 1
value = 489
ctrl = 0

[State 0, VelMul]
type = VelMul
trigger1 = time > 10
x = .9

[State 0, VelAdd]
type = VelAdd
trigger1 =time > 15
y = 0.3

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = pos Y > -15;time >= 20
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 489]
type    = S
movetype= A
physics = A
ctrl = 0
anim = 489
velset = 0,0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, Pause]
type = Pause
trigger1 = time = [0,10]
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,24
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 20
value = 1-time*1
;scale =
ignorehitpause = 1
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 20

[State 0, VelMul]
type = VelMul
trigger1 = time < 13
y = .9
x = .9
ignorehitpause = 1

[State 0, Cortes]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Cortes"
ID = 495
stateno = 495
pos = 0,-30
postype = p2
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = pos Y > -20;time >= 20
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
[Statedef 1403, Combo B6]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 403
sprpriority = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = animelem = 4
time = 4
add = 100,100,180
mul = 256,256,256
sinadd = -80,-80,-80,5
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 30
length = 10
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,220
palpostbright = 0,0,0
paladd = 2,2,6
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Land]
type = Explod
trigger1 = time = 10
anim = 9004
ID = 9004
pos = -1,14
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.6
sprpriority = 12
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 12 ;[17,25]
value = 15;1+time*1
;scale =
ignorehitpause = 1

[State 0, Garrazo]
type = Explod
trigger1 = animelem = 4
anim = 3440
ID = 3440
pos = -45,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .6,.5
sprpriority = 2
ontop = 1
angle = -35;+gametime*1
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 0, Garrazo]
type = Explod
trigger1 = animelem = 4
anim = 3440
ID = 3440
pos = 40,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .6,.5
sprpriority = 2
ontop = 1
angle = 20;-gametime*1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 0, Helper]
type = Helper
triggerall = hitcount < 4
Triggerall = p2movetype = H && p2stateno != [120,155]
triggerall = numhelper(8101) = 0
trigger1 = Movehit = 1
helpertype = normal
name = "HitSpark"
ID = 8101
stateno = 8101
pos = 80,-50
postype = p1
facing = 1
ownpal = 1
ignorehitpause=1
size.xscale = .6
size.yscale = .6
[State 0, Helper]
type = Helper
triggerall = hitcount = 4
Triggerall = p2movetype = H && p2stateno != [120,155]
triggerall = numhelper(8101) = 0
trigger1 = Movehit = 1
helpertype = normal
name = "HitSpark"
ID = 8101
stateno = 8101
pos = 80,-50
postype = p1
facing = 1
ownpal = 1
ignorehitpause=1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4;time%5 = 0;> 20
value = S1,23
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,4
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,16
volume = 50

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
y = -8
[State 0, VelSet]
type = Veladd
triggerall = vel X < 3
trigger1 = command = "holdfwd";animelem = 3
X = .4
[State 0, VelSet]
type = Veladd
triggerall = vel X > -3
trigger1 = command = "holdback";animelem = 3
X = -.3

[State 0, HitDef]
type = HitDef
triggerall = hitcount < 4;!movecontact
trigger1 = 1;hitcount < 4;!movecontact
attr = S,NA
guardflag = MA
animtype = heavy
damage = 20
pausetime = 4,7
sparkno = -1
sparkxy = -20,-60
guard.sparkno = S7010
hitsound = S1,23
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -2,-9.5
air.velocity = -1,-7.5
Fall = 1
Fall.recover = 1
Fall.recovertime = 40
getpower = 0,0

[State 0, HitDef]
type = HitDef
trigger1 = hitcount = 4;1 ;hitcount < 4;!movecontact
attr = S,NA
guardflag = MA
animtype = heavy
damage = 20
pausetime = 6,5
sparkno = -1
sparkxy = -20,-60
guard.sparkno = S7010
hitsound = S1,24
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
p2stateno = 888
ground.velocity = -2,-9.5
air.velocity = -2,-4.5
Fall = 1
Fall.recover = 1
Fall.recovertime = 40
getpower = 0,0
envshake.time = 25
hitonce = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Gyojin Biruto Appar  - Start
[Statedef 1424]
type    = A
Movetype = A
physics = N
juggle  = 1
ctrl = 0
anim = 424
poweradd = 100
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,23
volume = 999

[State 0, Teleport]
type = Helper
trigger1 = time = 0
name = "Teleport"
ID = 335
stateno = 335
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 12
time = 20
length = 15
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time < 12
value = 0

[State 0, PosAdd]
type = PosAdd
triggerall = prevstateno != 520
triggerall = frontedgebodydist < 40
trigger1 = time = 10
x = 0;cond(frontedgebodydist <= 45,0,60)
y = -100;-p2bodydist Y - 50
[State 0, PosAdd]
type = PosAdd
triggerall = prevstateno = 520
trigger1 = time = 10
x = p2bodydist X-30;cond(frontedgebodydist <= 45,0,60)
y = p2bodydist Y - 130
[State 0, PosAdd]
type = PosAdd
triggerall = prevstateno != 520
triggerall = frontedgebodydist > 40
trigger1 = time = 10
x = 60;cond(frontedgebodydist <= 45,0,60)
y = -100;-p2bodydist Y - 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 20
value = 15
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
y = 13

[State 0, VelMul]
type = VelMul
trigger1 = time > 17
x = .9
ignorehitpause = 1
;persistent =


[State 210, 1]
type = HitDef
trigger1 = time%2 = 0;animelem = 4
attr = A, SA
animtype  = Light
getpower = 0,0
damage    = 10,3
guardflag = HA
pausetime = 6,10
sparkno = -1;s6000
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,22
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -1.5,0;-;3.5
air.velocity = 0,5
air.fall = 1

[State 0, Helper]
type = Helper
Triggerall = p2movetype = H && p2stateno != [120,155]
triggerall = numhelper(8101) = 0
trigger1 = Movehit = 1
helpertype = normal
name = "HitSpark"
ID = 8101
stateno = 8101
pos = 50,-30
postype = p1
facing = 1
ownpal = 1
size.xscale = .6
size.yscale = .6
ignorehitpause=1

[State 1251, 3]
type = Changestate
trigger1 =  pos y > -1
value = 1423
ctrl = 0
;-----------------------------------------------------------------------------
; Gyojin Biruto Appar  - finish
[Statedef 1423]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 423
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State aura5]
type = Explod
trigger1 = time = 1
Anim = 6025
ID = 6025
pos = 30,-40
sprpriority = -5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .3,.3

[State 0, Land]
type = Explod
trigger1 = time = 0
anim = 80005
ID = 908
pos = -4,15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.45
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,11

[State 210, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1;animelem = 1
attr = A, SA
animtype  = hard
damage    = 45,5
guardflag = MA
pausetime = 12,12
sparkno = -1;s6000
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,24
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -0.5,-7
air.velocity = -2.5,-7.5
fall = 1

[State 0, Helper]
type = Helper
Triggerall = p2movetype = H && p2stateno != [120,155]
triggerall = numhelper(8101) = 0
trigger1 = Movehit = 1
helpertype = normal
name = "HitSpark"
ID = 8101
stateno = 8101
pos = 40,-60
postype = p1
facing = 1
ownpal = 1
ignorehitpause=1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15

[State 1251, 3]
type = Changestate
trigger1 =  Animtime = 0
value = 0
ctrl = 1

;===============================================================================

;===============================================================================
; SUPER 1 :
;-------------------------------------------------------------------------------
[Statedef 3000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1000
poweradd = -1000
velset = 0,0
sprpriority = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 9999,9999
unhittable = 1
darken = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 120
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 130
time = 1
add = var(12),var(12),var(12)

[State 0, Super Charge]
type = Explod
trigger1 = time = 0
anim = 7400
ID = 7400
pos = 6,-70
postype = p1
bindtime = -1
scale = .5,.5
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S950,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
value = S1,25
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S1,34
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S1,34
volume = 999

[State 0, FX]
type = Explod
trigger1 = animelem = 11
anim = 1610
ID = 1610
postype = P1
pos = 45,-55
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
ignorehitpause  = 1

[State 0, Burning Attack]
type = Helper
trigger1 = animelem = 11
helpertype = normal
name = "Burning Attack"
ID = 1050
stateno = 1050
pos = 50,-55
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S5,24
volume = 50

[State 0, Viento Carga]
type = Explod
trigger1 = animelem = 11
anim = 1410
ID = 1051
pos = -30,50
postype = p1
vel = -3,0
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 11
time = 10
ampl = -8

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Burning Attack - Start
[Statedef 1050]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1650
sprpriority = 3

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 60
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,35
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,35
volume = 999

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1060
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = movehit  = 1
x = 3
;ignorehitpause =
;persistent =


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Burning Attack - Fire"
ID = 1051
stateno = 1051
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .4
size.yscale = .5

[State 200, 1]
type = HitDef
triggerall = hitcount < 5;!movecontact
trigger1 = 1
attr = S, NP
animtype  = Heavy
damage    = 5,0
hitflag = MAF
guardflag = MA
pausetime = 1,1
sparkno = -1
guard.sparkno = -1
sparkxy = -8,0
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
Fall = 0
fall.recover = 0
Sprpriority = 5
Getpower = 0,0

[State 200, End]
type = Changestate
trigger5 = moveguarded
trigger1 = hitcount = 5;movecontact
trigger2 = pos y >= -5
trigger3 = frontedgebodydist < 0
trigger4 = time = 500
value = 1060

;-------------------------------------------------------------------------------
; Burning Attack -  Fin
[Statedef 1060]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
anim = 1660
ctrl = 0
sprpriority = 5

[State 0, Screen Flash]
type = Explod
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 999,999
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = 1+fvar(5),1+fvar(5)
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27
volume = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 60
ampl = -6

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, ST
animtype  = Heavy
damage    = 180,90
hitflag = MAFDE
guardflag = MA
pausetime = 0,20
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,-10
air.velocity = 0,-10
air.type = High
air.hittime = 12
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 25
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 1065
ID = 1670
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1.2,1.2
sprpriority = 3
ontop = 0
ownpal = 1

[State 3000, FX]
type = Explod
trigger1 = Time = 0
anim = 1675
ID = 1675
pos = 0,-35
postype = p1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .9,.9
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Destroyself
trigger1 = time = 5

;-------------------------------------------------------------------------------
; Burning Attack - Fire
[Statedef 1051]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1651
sprpriority = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, BindToPARENT]
type = BindToParent
trigger1 = 1
pos = -38,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1050


;===============================================================================
; SUPER 2 :
;-------------------------------------------------------------------------------
[Statedef 3100]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3100
poweradd = -1000
velset = 0,0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 9999,9999
unhittable = 1
darken = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 40
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 50
time = 1
add = var(12),var(12),var(12)

[State 0, Super Charge]
type = Explod
trigger1 = time = 0
anim = 7400
ID = 7400
pos = 10,-55
postype = p1
bindtime = -1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S950,1
volume = 50

[State 200, Combo + Combo IA]
type = ChangeState
triggerall = time >= 35
trigger1 = ailevel = 0 && command = "holdfwd"
trigger2 = ailevel > 0 && random < (ailevel * 25)
value = 3102

[State 200, Combo + Combo IA]
type = ChangeState
triggerall = time >= 35
trigger1 = ailevel = 0 && command = "holdup"
trigger2 = ailevel = 0 && command = "b"
trigger3 = ailevel > 0 && random < (ailevel * 25)
value = 3275

[State 200, End]
type = ChangeState
trigger1 = time = 40
value = 3101
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 3101]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 3101
velset = 0,0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 30
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 40
time = 1
add = var(12),var(12),var(12)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .9,.9
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0 && time > 0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S60,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S60,1
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 15

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 200, End]
type = ChangeState
triggerall = command = "holdup"
trigger1 = time = 30
trigger2 = p2bodydist x < 50
value = 3275
ctrl = 0
[State 200, End]
type = ChangeState
triggerall = command = "hold_b"
trigger1 = time = 30
trigger2 = p2bodydist x < 50
value = 3275
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = time = 30
trigger2 = p2bodydist x < 50
value = 3102
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 3102]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3102
velset = 0,0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 140
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 150
time = 1
add = var(12),var(12),var(12)

[State 0, SuperPause]
type = SuperPause
Triggerall = prevstateno = 3101
trigger1 = animelem = 3
time = 30
movetime = 30
anim = -1
sound = -1
pos = 9999,9999
unhittable = 1
darken = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,18
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,16
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S5,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S5,18
volume = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1410
ID = 1051
pos = 0,50
postype = p1
vel = -3,0
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1.1,1.1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,NA
guardflag = MA
animtype = hard
damage = 20
pausetime = 0,25
sparkno = -1
sparkxy = -20,-60
guard.sparkno = S7010
hitsound = S5,7
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = 0
air.velocity = 0,-2
Fall = 0
kill = 0
envshake.time = 10

[State 0, Hit Spark]
type = Explod
trigger1 = numexplod(7000) = 0 && movehit = 1
anim = 7000
ID = 7000
pos = 70,-80
postype = p1
scale = .7,.7
sprpriority = 2
ownpal = 1
ignorehitpause = 1
supermovetime = 30

[State 0, Energia - Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Energia - Helper"
ID = 3150
stateno = 3150
pos = 0,0
postype = p1
ontop = 1
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Energia - HLP
[Statedef 3150]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1510
sprpriority = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20
ampl = -6

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 70,-80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
Alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Extra FX Add]
type = Explod
trigger1 = Time = 0
anim = 1510
ID = 010
pos = 0,-0
postype = p1
bindtime = -1
RemoveTime = -1
scale = 1.2,1.2
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = addalpha
Alpha = 106,256

[State 0, Extra FX Sub]
type = Explod
trigger1 = Time = 0
anim = 1511
ID = 010
pos = 0,-0
postype = p1
bindtime = -1
RemoveTime = -1
scale = 1.2,1.2
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = Sub

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 3102
id = 010

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 19
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 10
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = -1 ;s7000
sparkxy = -8,-0
hitsound   = S1,12
guardsound = S4,1 ;S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Getpower = 0,0
sprpriority = 10

[State 200, Hit Spark]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 7009
ID = 7008
postype = P2
pos = -20+Random%40,-20-Random%50
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = .70,.70
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 200, Hit Spark]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 7008
ID = 7009
postype = P2
pos = -20+Random%40,-20-Random%50
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = .75,.75
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 3102

[State 200, End]
type = ChangeState
trigger1 = time = 70
trigger2 = Hitcount >= 14
value = 3151

;-------------------------------------------------------------------------------
; KameHameHa - END
[Statedef 3151]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 10

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time >= 5
id = 010

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
ampl = -9

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 5
fv = 1
value = .1

[State 0, VarSet]
type = VarAdd
trigger1 = time > 5
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 60
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-10
air.velocity = 0,-10
Fall = 1
Getpower = 0,0
sprpriority = 10

[State 200, Spark]
type = Explod
trigger1 = Movehit = 1
anim = 1222
ID = 1222
postype = P2
pos = 0,-60
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9022) = 0
trigger1 = Movehit = 1
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 20

;-------------------------------------------------------------------------------
[Statedef 3275]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3110
velset = 0,0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 30
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 40
time = 1
add = var(12),var(12),var(12)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,12
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,16
volume = 50

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,NA
guardflag = MA
hitflag = MAFDE
animtype = up
damage = 20
pausetime = 0,0
sparkno = -1
sparkxy = -20,-60
guard.sparkno = S7010
hitsound = S1,2
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = 1,-12
air.velocity = 1,-10
Fall = 1
Fall.recover = 0
envshake.time = 15
p2stateno = 3289

[State 0, Hit Spark]
type = Explod
trigger1 = numexplod(7000) = 0 && movehit = 1
anim = 7000
ID = 7000
pos = 20,-90
postype = p2
scale = 1,1
sprpriority = 2
ownpal = 1
ignorehitpause = 1

[State 200, REMATE]
type = ChangeState
trigger1 = movehit && time >= 30
value = 3111

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 3111]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3111
velset = 0,0
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 9999,9999
unhittable = 1
darken = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 200
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 210
time = 1
add = var(12),var(12),var(12)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,26
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,26
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,26
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S5,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S5,18
volume = 999

[State 0, Energia - Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal
name = "Energia - Helper"
ID = 3160
stateno = 3160
pos = 0,0
postype = p1
ontop = 1
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Energia - HLP
[Statedef 3160]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1509
sprpriority = 6

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.2,1.2
value = 90
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20
ampl = -6

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
Alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Extra FX Add]
type = Explod
trigger1 = Time = 0
anim = 1510
ID = 010
pos = 0,-0
postype = p1
bindtime = -1
RemoveTime = -1
scale = 1.2,1.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = addalpha
Alpha = 106,256
angle = 90
[State 0, Extra FX Sub]
type = Explod
trigger1 = Time = 0
anim = 1511
ID = 010
pos = 0,-0
postype = p1
bindtime = -1
RemoveTime = -1
scale = 1.2,1.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = Sub
angle = 90

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 3111
id = 010

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 19
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 15
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = -1 ;s7000
sparkxy = -8,-0
hitsound   = S1,12
guardsound = S4,1 ;S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-1
air.velocity = 0,-1
Fall = 0
Getpower = 0,0
sprpriority = 6

[State 200, Hit Spark]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 7009
ID = 7008
postype = P2
pos = -20+Random%40,-20-Random%50
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = .90,.90
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 200, Hit Spark]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 7008
ID = 7009
postype = P2
pos = -20+Random%40,-20-Random%50
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = .95,.95
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 3111

[State 200, End]
type = ChangeState
trigger1 = time = 140
trigger2 = Hitcount >= 19
value = 3161

;-------------------------------------------------------------------------------
; KameHameHa - END
[Statedef 3161]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.2,1.2
value = 90
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time >= 5
id = 010

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
ampl = -9

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 5
fv = 1
value = .1

[State 0, VarSet]
type = VarAdd
trigger1 = time > 5
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 100
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 2,-8
air.velocity = 2,-8
Fall = 1
Getpower = 0,0
sprpriority = 10

[State 200, Spark]
type = Explod
trigger1 = Movehit = 1
anim = 1222
ID = 1222
postype = P2
pos = 0,-60
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9022) = 0
trigger1 = Movehit = 1
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 20

;===============================================================================
; SUPER 1 :
;-------------------------------------------------------------------------------
[Statedef 3180]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 3180
poweradd = -1000
velset = 0,0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 9999,9999
unhittable = 1
darken = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 50
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 60
time = 1
add = var(12),var(12),var(12)

[State 0, Super Charge]
type = Explod
trigger1 = time = 0
anim = 7400
ID = 7400
pos = 5,-65
postype = p1
bindtime = -1
scale = .5,.5
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S950,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,25
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,25
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,25
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,21
volume = 999

[State 0, Shoot 1 FX]
type = Explod
trigger1 = animelem = 2
anim = 404
ID = 485
pos = 15,-90
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
accel = 0,0
random = 0,0
removetime = 25
ontop = 0
sprpriority = 0
removeongethit = 1
Trans = Add

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 10
ampl = -2

[State 200, End]
type = ChangeState
trigger1 = Time = 50
value = 3181
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 3181]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 3181
velset = 0,0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 85
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 95
time = 1
add = var(12),var(12),var(12)

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1410
ID = 1051
pos = -40,50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
angle = -30

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = -2
y = 0

[State 0, KameHameHa - Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "KameHameHa - Helper"
ID = 1566
stateno = 1566
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1


;-------------------------------------------------------------------------------
; KameHameHa - HLP
[Statedef 1566]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1507
sprpriority = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,18
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20
ampl = -6

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 70,-15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
Alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Extra FX Sub]
type = Explod
trigger1 = Time = 0
anim = 1511
ID = 001
pos = 0,-0
postype = p1
bindtime = -1
RemoveTime = -1
scale = 1,1
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = Sub
Angle = -35

[State 0, Extra FX Add]
type = Explod
trigger1 = Time = 0
anim = 1507
ID = 001
pos = 0,-0
postype = p1
bindtime = -1
RemoveTime = -1
scale = 1,1
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = addalpha
Alpha = 106,256
Angle = -35

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 3181
trigger2 = stateno = 50
id = 001

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 14
trigger1 = timemod = 5,0
attr = A, SP
hitflag = MAFDE
animtype  = Heavy
damage    = 10
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1 ;s7000
sparkxy = -8,-0
hitsound   = S1,12
guardsound = S4,1 ;S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -1,-1
Fall = 0
Getpower = 0,0
sprpriority = 3

[State 200, Hit Spark]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 7008
ID = 7008
postype = P2
pos = -20+Random%40,-20-Random%50
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = .60,.60
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 200, Hit Spark]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 7009
ID = 7009
postype = P2
pos = -20+Random%40,-20-Random%50
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 0
ownpal = 1
scale = .65,.65
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 3181

[State 200, End]
type = ChangeState
trigger1 = time = 70
trigger2 = Hitcount >= 14
value = 1567
;-------------------------------------------------------------------------------
; KameHameHa - END
[Statedef 1567]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time >= 5
id = 001

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
ampl = -9

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 5
fv = 1
value = .1

[State 0, VarSet]
type = VarAdd
trigger1 = time > 5
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
hitflag = MAFDE
animtype  = Heavy
damage    = 60
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-8
air.velocity = 0,10
Fall = 1
Getpower = 0,0
sprpriority = 3

[State 200, Spark]
type = Explod
trigger1 = Movehit = 1
anim = 1222
ID = 1222
postype = P2
pos = 0,-60
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;=============================================================================
; SUPER 3 :
;-------------------------------------------------------------------------------
; SUPER 3 - Start
[Statedef 3200]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3200
poweradd = -1000
sprpriority = 0


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 90
movetime = 90
anim = -1
sound = -1
pos = 9999,9999
unhittable = 1
darken = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 80
v = 12
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 90
time = 1
add = var(12),var(12),var(12)

[State 0, Super Charge]
type = Explod
trigger1 = time = 0
anim = 7400
ID = 7400
pos = 5,-60
postype = p1
bindtime = -1
scale = .5,.5
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S950,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,15
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,15
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999

[State 0, Palfx]
type = Palfx
trigger1 = animelem = 3
time = 10
add = 150,150,150
mul = 240,230,190;256,256,256
sinadd = 100,100,100,22
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = Animelem = 3
time = 50

[State 0, Flash]
type = Explod
trigger1 = animelem = 3
anim = 9019
ID = 1301
pos = 0,0
postype = left
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 30

[State aura]
type = Explod
trigger1 = animelem = 3
Anim = 6021
ID = 6021
pos = 5,-15
sprpriority = 3
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
ontop = 1
scale = .6,.65
supermovetime = 30
[State aura2]
type = Explod
trigger1 = animelem = 3
Anim = 6022
ID = 6022
pos = 65,-90
sprpriority = -4
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
ontop = 0
scale = .5,.65
supermovetime = 999
[State aura3]
type = Explod
trigger1 = animelem = 3
Anim = 6023
ID = 6023
pos = 50,-100
sprpriority = 4
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
ontop = 1
scale = .5,.65
supermovetime = 999
[State aura4]
type = Explod
trigger1 = animelem = 3
Anim = 6024
ID = 6024
pos = 60,-100
sprpriority = 5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
ontop = 1
scale = .5,.65
supermovetime = 999
[State aura5]
type = Explod
trigger1 = animelem = 3
Anim = 6025
ID = 6025
pos = 30,-50
sprpriority = -5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
ontop = 1
scale = .35,.35
supermovetime = 999

[State 200, End]
type = ChangeState
trigger1 = Time = 100
value = 3201
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 3201]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 100
velset = 0,0
sprpriority = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .9,.9
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Aspas]
type = Explod
trigger1 = timemod = 4,0 && time > 5 && pos y < 0
anim = 7017
ID = 1051
pos = -10+random%20,-10-random%50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S60,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S60,1
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 15

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,15
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,15
volume = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 6021
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 6022
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 6023
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 6024
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 6025

[State 200, End]
type = ChangeState
trigger1 = time = 30
trigger2 = p2bodydist x < 50
value = 3202
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 3202]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3201
velset = 0,0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .9,.9
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,16
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,2
volume = 999

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,HA
guardflag = MA
animtype = Light
damage = 20
pausetime = 12,24
sparkno = -1
sparkxy = -20,-60
guard.sparkno = S7010
hitsound = S1,2
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -5
air.velocity = -5
Fall = 0
envshake.time = 30
sprpriority = 2
Getpower = 0,0
kill = 0
numhits = 0

[State 200, REMATE]
type = ChangeState
Triggerall = p2movetype = H && p2stateno != [120,155]
trigger1 = movehit && time >= 15
value = 3203

[State 0, Hit Spark]
type = Explod
trigger1 = numexplod(7005) = 0 && movehit = 1
anim = 7000
ID = 7005
pos = 55,-65
postype = p1
facing = -1
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 70
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3203]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3202
sprpriority = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .9,.9
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,16
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5
y = -6

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -5
y = -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=  0
value = S200,11
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=  0
value = S200,11
volume = 999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, HA
animtype = heavy
damage    = 20
Hitflag = MAFDE
guardflag = MA
pausetime = 5,10
sparkno = -1
guard.sparkno = s7010
sparkxy = -8,-25
hitsound   = S1,14
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = 0
air.velocity = 0
Fall = 0
Fall.recover = 0
Envshake.time = 30
sprpriority = 2
Getpower = 0,0
kill = 0
numhits = 0
p2stateno = 3310

[State 0, Hit Spark]
type = Explod
trigger1 = numexplod(7005) = 0 && movehit = 1
anim = 7000
ID = 7005
pos = 65,-60
postype = p1
facing = -1
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
triggerall = roundstate != 2
trigger1 = time >= 19
value = 50
ctrl = 1

[State 200, REMATE]
type = ChangeState
trigger1 = movehit && time >= 25
value = 3204

[State 0, Cinematic Flash - ON!]
type = Explod
triggerall = numexplod(3050) = 0
trigger1 = movehit && time >= 20
anim = 3260
ID = 3260
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = 999,999
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 70
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 3204]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 3204
poweradd = -1000
velset = 0,0
sprpriority = 0

[state 181, No Life Bar]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 20
scale = .6,.6

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [0,20]
scale = 3.1-time*.11,3.1-time*.11

[State 0, Posset]
type = Posset
triggerall = facing = 1
trigger1 = 1
x = -80
y = -20
[State 0, Posset]
type = Posset
triggerall = facing = -1
trigger1 = 1
x = 80
y = -20

[State random smaller aura]
type = Explod
trigger1 = timemod = 5,0 && time < 200
anim = 6020
ID = 6025
pos = 0,-30
vel = 0, ifelse(random<499, -.4,-.6)
random = 50,80
removetime = -2
scale = ifelse(random<499, .1, .1)*const(size.xscale), ifelse(random<499 ,.1,.1)*const(size.yscale)
sprpriority = ifelse(random<749, 3,-3)
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S0,23
volume = 999

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0 && time > 55 && time < 160
anim = 7022
ID = 1051
pos = 15,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
velocity = 3
scale = .4,.4
sprpriority = 6
ontop = 0
ownpal = 1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0 && time > 55 && time < 160
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
velocity = -3
scale = .4,.4
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, EnvShake]
type = EnvShake
triggerall = time > 55 && time < 160
trigger1 = timemod = 10,0
trigger2 = time = 55
time = 10
ampl = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
value = S1,25
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S1,34
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S1,34
volume = 999

[State 0, Burning Attack False]
type = Helper
trigger1 = animelem = 11
helpertype = normal
name = "Burning Attack False"
ID = 1080
stateno = 1080
pos = 120,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S5,24
volume = 50

[State 0, Viento Carga]
type = Explod
trigger1 = animelem = 11
anim = 1410
ID = 1051
pos = -30,50
postype = p1
vel = -3,0
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 11
time = 50
ampl = -6

[State 0, FX Hyper]
type = Explod
trigger1 = time = 0
anim = 7500
ID = 7501
pos = 160,120
postype = left
bindtime = 1
removetime = -1
scale = 1.5,1.5
facing = facing
sprpriority = -10
ontop = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
pausemove = 9999
supermove = 999
angle = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7510
ID = 7502
pos = 160,120
postype = left
removetime = -1
removeongethit = 1
supermovetime = 99999999999
pausemovetime = 99999999999
scale = 1.90
ontop = 0
ownpal = 1
sprpriority = -10

[State 0, Cinematic Flash - ON!]
type = Explod
triggerall = numexplod(3050) = 0
trigger1 = time = 530
anim = 3260
ID = 3265
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
scale = 999,999
sprpriority = 100
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 3205
ctrl = 0

;-------------------------------------------------------------------------------
; Invisible 1
[Statedef 3205]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 0

[state 181, No Life Bar]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay

[State 0, Explod]
type = Explod
trigger1 = Time = 83
anim = 7022
ID = 1051
pos = -15,10
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
velocity = -2
scale = .5,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = Time = 83
anim = 7022
ID = 1051
pos = 15,10
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
velocity = 2
scale = .5,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Jump]
type = PlaySnd
trigger1 = Time = 83
value = S60,1
volume = 999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 83
ID = 7501
Trans = Add
angle = 90

[State 0, Burning Attack False]
type = Helper
trigger1 = time = 80
helpertype = normal
name = "Burning Attack False"
ID = 1080
stateno = 1080
pos = -250,-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .45
size.yscale = .45
[State 0, Burning Attack False]
type = Helper
trigger1 = time = 120
helpertype = normal
name = "Burning Attack False"
ID = 1082
stateno = 1082
pos = 190,150
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .45
size.yscale = .45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S5,24
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 80
time = 50
ampl = -6

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time = 130
value = 3206
;-------------------------------------------------------------------------------
[Statedef 3206]
type    = A
movetype= A
physics = A
juggle  = 3
velset = 0,0
ctrl = 0
anim = 3205
sprpriority = 0

[state 181, No Life Bar]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 30
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S900,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S900,2
volume = 999
[State 1100, Dust]
type = Explod
trigger1 = animelem = 2
anim = 8217
ID = 8217
postype = p1
pos = 0,-30
removetime = 100
bindtime = -1
scale = .8,.8
ownpal = 1
sprpriority = 10
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy, name != "Freezer"
trigger1 = time = 10
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy, name != "Freezer"
trigger1 = time = 10
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy, name != "Freezer"
trigger1 = time = 10
value = S0,14
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy, name = "Freezer"
trigger1 = animelem = 2
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy, name = "Freezer"
trigger1 = animelem = 2
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy, name = "Freezer"
trigger1 = animelem = 2
value = S0,31
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .6,.6
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = Time = [0,110]
x = 0
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = Time = [111,115]
x = 5
y = 10
[State 0, VelSet]
type = VelSet
trigger1 = Time = [116,300]
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3205 && animelemtime(7) = 2
trigger2 = anim = 3205 && animelemtime(10) = 2
trigger3 = anim = 3205 && animelemtime(13) = 2
value = S200,12+(random%3)
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3205 && animelemtime(7) = 2
trigger2 = anim = 3205 && animelemtime(10) = 2
trigger3 = anim = 3205 && animelemtime(13) = 2
value = S1,30
volume = 999

[State 200, 1]
type = HitDef
triggerall = time < 118
triggerall = !movecontact
trigger1 = 1
attr = S, HA
animtype  = Heavy
damage    = 100
guardflag = MA
pausetime = 12,50
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = 0,0
air.velocity = 0,0
Fall = 0
Fall.recover = 0
kill = 0
Getpower = 0,0
Envshake.time = 35

[State 0, TargetState]
type = TargetState
trigger1 = time < 118
trigger1 = movehit = 1 && p2stateno != 3010
value = 3010
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = time >= 118
trigger1 = movehit = 1 && p2stateno != 3011
value = 3011
ignorehitpause = 1

[State 200, 1]
type = playsnd
trigger1 = animelem = 4
value = S1,28
volume = 999
[State 200, 1]
type = playsnd
trigger1 = animelem = 4
value = S1,28
volume = 999

[State 0, Corte]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Corte"
ID = 3260
stateno = 3260
pos = 0,-40
postype = p2
facing = -1
ownpal = 1
Size.Xscale = .6
Size.Yscale = .5

[State 200, 1]
type = HitDef
trigger1 = animelem = 8
trigger2 = animelem = 10
trigger3 = animelem = 14
attr = S, HA
animtype  = Heavy
damage    = 5
guardflag = MA
pausetime = 2,50
sparkno = -1
guard.sparkno = s7010
sparkxy = -8,-25
hitsound   = S1,29
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = 0,0
air.velocity = 0,0
Fall = 0
Fall.recover = 0
kill = 0
Getpower = 0,0
envshake.time = 5

[State 0, Helper]
type = Helper
triggerall = time > 118
trigger1 = Movehit = 1
helpertype = normal
name = "HitSpark"
ID = 8101
stateno = 8101
pos = -15+random%30, -60+random%30
postype = p2
facing = 1
ownpal = 1
ignorehitpause=1

[State 0, Posset]
type = Posset
trigger1 = time = 0
y = -80

[State aura5]
type = Explod
trigger1 = time = 0
Anim = 580
ID = 580
pos = 5,-60
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .4,.4
[State aura5]
type = Explod
trigger1 = time = 0
Anim = 581
ID = 580
pos = 5,-60
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .4,.4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,14
volume = 999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time = 260
value = 3207
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 3207]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 3206
velset = 0,0
sprpriority = 0

[state 181, No Life Bar]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = S1,25
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = S1,25
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 130
scale = .6,.6
ignorehitpause = 1

[State 0, Cinematic Flash - ON!]
type = Explod
triggerall = numexplod(3050) = 0
trigger1 = time = 85
anim = 3260
ID = 3260
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 4
ID = 7501
Trans = Add
angle = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,17
volume = 999

[State 0, Speedline1]
type = Explod
trigger1 = animelem = 4
anim = 7420
ID = 7510
pos = 160,100
postype = back
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .8,.8
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
trans = add

[State 0, Buster]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Buster"
ID = 3250
stateno = 3250
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .8
size.yscale = .8

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
Y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -5
y = 15

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 130
id = 7501
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 130
id = 7502
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 120
id = 7510

[State 0, Posset]
type = Posset
trigger1 = time = 130
y = -80

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 3250]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1250
sprpriority = 10

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 180,-60

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 0
fv = 1
value = .0025

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1+fvar(1),1+fvar(1)
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,35
volume = 999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
ampl = -6

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 8
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -4
Fall = 0
Getpower = 0,0
sprpriority = 5
PalFX.time = 20
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
kill = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
pos = -70,50

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 3207

[State 200, End]
type = ChangeState
trigger1 = time = 40
value = 3255
;-------------------------------------------------------------------------------
[Statedef 3255]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 10

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1+fvar(1),1+fvar(1)-time*.1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 110
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,26
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-10
air.velocity = -8,-10
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 20
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 0, TargetState]
type = TargetState
Triggerall = p2life <= 110
trigger1 = movehit = 1
value = 3299

[State 200, End Spark]
type = Explod
trigger1 = Movehit = 1
anim = 1520
ID = 1520
postype = P1
pos = -50,-10
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.5,1.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
[State 200, End Spark]
type = Explod
trigger1 = Movehit = 1
anim = 1520
ID = 1520
postype = P1
pos = -50,-10
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9022) = 0
trigger1 = Movehit = 1
anim = 9022
ID = 9022
pos = -20,-20
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 10
;---------------------------------------------------
[Statedef 3221]
type    = S
movetype= H
physics = S

[state 0]
type = posset
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 4 && time < 10
x = -2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000+var(10)
elem = 1

[State 0, SelfState]
type = SelfState
trigger1 = time = 200
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; P2 Reventado Suelo
[Statedef 3230]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
sprpriority = -1
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, ChangeAnim2]
type = ChangeAnim
Triggerall = authorname = "CobraG6"
trigger1 = time = 0
value = 5110+(var(10))

[State 0, ChangeAnim2]
type = ChangeAnim
Triggerall = authorname != "CobraG6"
trigger1 = time = 0
value = 5110

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, End]
type = Selfstate
trigger1 = time = 170
value = ifelse(life = 0,5150,5120)
ctrl = 1
;-------------------------------------------------------------------------------
; Camara Lenta
[Statedef 3360]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 0

[State 0, Pause]
type = Pause
trigger1 = time = [0,20]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20

;----------------
[Statedef 9997]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 9999
anim = 9019
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,11
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,11
volume = 999

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 10
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;----------------
[Statedef 9998]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 9999
anim = 9019
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10
volume = 999

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 10
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20


;-------------------------------------------------------------------------
; REMATE FINISH
[Statedef 3999]
type    = A
physics = N
velset = 0,0
anim = 3999
ctrl = 0
sprpriority = 100

[State 0, Helper]
type = Helper
trigger1 = time = 240
helpertype = normal ;player
name = "White Flash"
ID = 9998
stateno = 9998
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ontop = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause  = 1


[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S400,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S400,1
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 20 && Facing = -1
anim = 3990
ID = 3097
pos = 170,160
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .6,.6
sprpriority = 101
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 20  && Facing = 1
anim = 3990
ID = 3097
pos = -150,160
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .6,.6
sprpriority = 101
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 3980
ID = 3097
pos = 0,30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.3,0.3
sprpriority = 110
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 20 && Facing = -1
anim = 7510
ID = 3677
pos = 160,120
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 20 && Facing = 1
anim = 7510
ID = 3677
pos = -160,120
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 15

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 250
id =  3097
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 250
id =  3677

[State 3290, DestroySelf]
type = DestroySelf
trigger1 = time = 250

;-------------------------------------------------------------------------------
; P2 - Hacia la Pared
[Statedef 1605]
type    = A
movetype= H
physics = N
juggle  = 1
velset = -15
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -60
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5490+ifelse(authorname = "CobraG6",var(10),0)
elem = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
trigger2 = time >= 40
value = 1606
;-------------------------------------------------------------------------------
; P2 - Empotrado en la Pared
[Statedef 1606]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 2,-7
ctrl = 0
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -10
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -10

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
;-------------------------------------------------------------------------------
; Helper - P2 Contra la Pared
[Statedef 1670]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,10
volume = 50

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 8250
ID = 8250
pos = -40,-10
postype = p1
vel = -2,-2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Polvo en P2
[Statedef 1675]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.7
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = 7035
ID = 1051
pos = -10,-70
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 1605

;-------------------------------------------------------------------------------
; Polvo en P2
[Statedef 1685]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.7
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = 7035
ID = 1051
pos = -10,-65
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 1206

;----------------
[Statedef 9998]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 9999
anim = 9019
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10
volume = 999

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 10
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20

;-------------------------------------------------------------------------------
; Helper - P2 Contra la Pared
[Statedef 1250]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,10
volume = 50

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 8250
ID = 8250
pos = -20,0
postype = p1
vel = -2,-2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; P2 - To Destruction
[Statedef 3299]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -9999
kill = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, End]
type = ChangeState
trigger1 = Time = 1
value = 5150

;-------------------------------------------------------------------------------
; P2 Reventado Suelo
[Statedef 3314]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
sprpriority = -1
facep2 = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = 1
value = 5110+ifelse(authorname = "CobraG6",var(10),0)
elem = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, End]
type = Selfstate
trigger1 = time = 200
value = ifelse(life = 0,5150,5120)
ctrl = 1

;-------------------------------------------------------------------------------
; Helper - P2 Contra el Suelo
[Statedef 3350]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2
volume = 50

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7110
ID = 360
pos = 0,50
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8240
ID = 370
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.7
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -6

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 10

[State 200, End]
type = Destroyself
trigger1 = time = 1

;===============================================================================
; HitSpark - Sword - SP
;===============================================================================
[StateDef 8103,HitSpark - Sword - SP]
Physics = N
Anim    = 16005
sprpriority=6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;[State 0, Helper]
;type = Helper
;trigger1 = time = 0
;helpertype = normal
;name = "Sparks Lv3"
;ID = 8007
;stateno = 8007
;pos = 0,0
;postype = p1
;ownpal = 1
;supermove=9999
;pausemove=9999

;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 2

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Sparks"
ID = 8108
stateno = 8108
pos = 0,0
postype = p1
ownpal = 1
supermove=9999
pausemove=9999
size.height=-var(10)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Part2"
ID = 8113
stateno = 8113
pos = 0,0
postype = p1
ownpal = 1
supermove=9999
pausemove=9999
size.height = var(10)
size.xscale= 5
size.yscale= 5

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 1

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>9
v = 6
value = -50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5)*1.5,2.0/fvar(5)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0

;===============================================================================
; HitSpark - Hands - SP
;===============================================================================
[StateDef 8003, Hands - SP]
Physics = N
Anim    = 16000
sprpriority=6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow


;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 2

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Sparks"
ID = 8008
stateno = 8008
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.height=-var(10)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Part2"
ID = 8013
stateno = 8013
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.height = var(10)

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 1

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>9
v = 6
value = -50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5)*1.5,2.0/fvar(5)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0

;===============================================================================
; HitSpark - Hands - SP 2
;===============================================================================
[StateDef 8013, Hands - SP 2]
Physics = N
Anim    = 16000
sprpriority=6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 2

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = const(size.height)+90-20+random%40

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparks"
ID = 8008
stateno = 8008
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.height=-var(10)

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 1

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>6
v = 6
value = -50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5),4.0/(fvar(5)*fvar(5))

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0

;===============================================================================
; HitSparks - Hands - Line
;===============================================================================
[StateDef 8008, Hands - Line]
Physics = N
Anim    = 9999
sprpriority=5

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = const(size.height)

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16000
ID = 16000
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
sprpriority = 4

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 6
ID = 16000
scale=0.25-(time-6)*0.01,0.25-(time-6)*0.01
trans=addalpha
alpha=256-(time-6)*10,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 25
id = 16000

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 25
;===============================================================================
; HitSparks - Sword - Line
;===============================================================================
[StateDef 8108,HitSparks - Sword - Line]
Physics = N
Anim    = 9999
sprpriority=5

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = const(size.height)

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16005
ID = 16005
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermove=9999
pausemove=9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16005
ID = 16005
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermove=9999
pausemove=9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16005
ID = 16005
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermove=9999
pausemove=9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16005
ID = 16005
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermove=9999
pausemove=9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16005
ID = 16005
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermove=9999
pausemove=9999
scale = 0.25,0.25
sprpriority = 4

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = -2.5+random/200.0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 16005
ID = 16005
pos = 0,0
postype = p1
bindtime = 1
vel = fvar(5)*cos(var(10)*pi/180.0),fvar(5)*sin(var(10)*pi/180.0)
removetime = -1
supermove=9999
pausemove=9999
scale = 0.25,0.25
sprpriority = 4

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 6
ID = 16005
scale= 0.25-(time-6)*0.01,0.25-(time-6)*0.01
trans=addalpha
alpha=256-(time-6)*10,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 25
id = 16005

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 25
;===============================================================================
; HitSpark - Sword - SP 2
;===============================================================================
[StateDef 8113,HitSpark - Sword - SP 2]
Physics = N
Anim    = 16005
sprpriority=6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 2

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = const(size.height)+90-20+random%40

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparks"
ID = 8108
stateno = 8108
pos = 0,0
postype = p1
ownpal = 1
supermove=9999
pausemove=9999
size.height=-var(10)

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 1

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>6
v = 6
value = -50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5),4.0/(fvar(5)*fvar(5))

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0
;===============================================================================
; HitSpark - Sword - Medium
;===============================================================================
[StateDef 8101,HitSpark - Sword - Medium]
Physics = N
Anim    = 16005
sprpriority=6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparks"
ID = 8106
stateno = 8106
pos = 0,0
postype = p1
ownpal = 1
supermove=9999
pausemove=9999

;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 2

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 0.75

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>6
v = 6
value = -40

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5)*1.5,2.0/fvar(5)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0
;===============================================================================
; HitSpark - Sword - Medium
;===============================================================================
[StateDef 8120,HitSpark - Sword - Medium]
Physics = N
Anim    = 16006
sprpriority=5

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 255.0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(fvar(5)),256

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = const(size.ground.back)

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 15
value = const(size.height)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =  -var(10)-90
scale =  0.07,0.5+var(15)*0.1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 1.2*var(15)*cos(var(10)*(pi/180.0))
y = 1.2*var(15)*sin(var(10)*(pi/180.0))


[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = -40.0/var(15)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = fvar(5)<=0
;===============================================================================
; HitSparks - Sword - Medium
;===============================================================================
[StateDef 8106,HitSparks - Sword - Medium]
Physics = N
Anim    = 9999
sprpriority=5

;--------------REPEAT ZONE--------------
;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8120
stateno = 8120
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=1

;-------------------------------------------------------------------------------
; P2
[Statedef 3310]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 5
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -10
y = -3

[State 0, Posset]
type = Posset
trigger1 = time = 50
x = 0
y = 150
[State 0, VelSet]
type = VelSet
trigger1 = time = 50
x = 0
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = time = 327
x = 0
y = -8
[State 0, VelSet]
type = VelSet
trigger1 = time = 370
x = 0
y = -10
[State 0, VelSet]
type = VelSet
trigger1 = time = 380
x = 0
y = 0

[State 0, Posset]
type = Posset
triggerall = Facing = -1
trigger1 = time = 270
x = -180
y = -5
[State 0, Posset]
type = Posset
triggerall = Facing = 1
trigger1 = time = 270
x = 180
y = -5

[State 0, Posset]
type = Posset
trigger1 = time = 370
x = 0
y = 70

[State 0, VelSet]
type = VelSet
trigger1 = time = 270
x = -7
[State 0, VelSet]
type = VelSet
trigger1 = time = 300
x = -2
[State 0, VelSet]
type = VelSet
trigger1 = time = 310
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = [15,370]
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0]
type = AssertSpecial
trigger1 = time = [50,270]
flag = invisible

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 270
scale = .6,.6
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [0,300]
value = 5030+ifelse(authorname = "CobraG6",var(10),0)
elem = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [301,310]
value = 0+ifelse(authorname = "CobraG6",var(11),0)
elem = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [311,326]
value = 40+ifelse(authorname = "CobraG6",var(11),0)
elem = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [327,600]
value = 41+ifelse(authorname = "CobraG6",var(11),0)
elem = 1

[State 200, End]
type = ChangeState
trigger1 = roundstate != 2
value = 5050

[State 200, End]
type = ChangeState
trigger1 = time = 800
value = 5050

;-------------------------------------------------------------------------------
; P2
[Statedef 3289]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -8
[State 0, VelSet]
type = VelSet
trigger1 = time = 20
x = 2
y = -2
[State 0, VelSet]
type = VelSet
trigger1 = time = 30
x = 2
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5051+ifelse(authorname = "CobraG6",var(10),0)
elem = 1

[State 200, End]
type = ChangeState
trigger1 = roundstate != 2
value = 5050

[State 200, End]
type = Selfstate
triggerall = time >= 20
trigger1 = time = 40
trigger2 = pos y >= -5
value = 5050

;-------------------------------------------------------------------------------
; Golpes 1
[Statedef 3010]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 0
Facep2 = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .6,.6
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = ifelse(selfanimexist(5000),5000,5030)+ifelse(authorname = "CobraG6",var(10),0)

[State 0, ChangeAnim]
type = Null;ChangeAnim
trigger1 = 1
value = ifelse(selfanimexist(5300),5300,5030)+ifelse(authorname = "CobraG6",var(10),0)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, End]
type = Selfstate
trigger1 = time = 70
value = 5050

;-------------------------------------------------------------------------------
; Golpes 2
[Statedef 3011]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 0
Facep2 = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .6,.6
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = ifelse(selfanimexist(5000),5000,5030)+ifelse(authorname = "CobraG6",var(10),0)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, End]
type = Selfstate
trigger1 = time = 70
value = 5050

;-------------------------------------------------------------------------------
; Corte
[Statedef 3260]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3250
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
Fv = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
Fv = 2
value = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 0
Fv = 2
value = 25

[State 0, VarAdd]
type = VarAdd
trigger1 = time < 9
Fv = 1
value = -.1

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 9
Fv = 1
value = -.0025

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 20
Scale = Fvar(1),Fvar(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 40
v = 3
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(3),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = var(1) >= 256


